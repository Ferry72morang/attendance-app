<mat-card class="register-card">
  <h2>Register User</h2>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-container">
      <mat-form-field appearance="outline">
        <mat-label>Username</mat-label>
        <input matInput formControlName="userName" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Nama</mat-label>
        <input matInput formControlName="name" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Jabatan</mat-label>
        <input matInput formControlName="designation" required />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Role</mat-label>
        <mat-select formControlName="role" required>
          <mat-option value="USER">USER</mat-option>
          <mat-option value="ADMIN">ADMIN</mat-option>
        </mat-select>
      </mat-form-field>

      
      <label>Status</label>
      <mat-radio-group formControlName="status" class="d-block mb-3" required>
      <mat-radio-button value="INTERNAL">INTERNAL</mat-radio-button>
      <mat-radio-button value="EXTERNAL" class="ml-3">EXTERNAL</mat-radio-button>
      </mat-radio-group>

     <mat-form-field appearance="outline">
        <mat-label>Password (number only)</mat-label>
        <input
          matInput
          type="text"
          formControlName="password"
          (keypress)="allowOnlyDigits($event)"
          inputmode="numeric"
          required
        />
        <mat-error *ngIf="registerForm.get('password')?.hasError('pattern')">
          Hanya angka yang diperbolehkan
        </mat-error>
      </mat-form-field>
    </div>

    <div class="button-row">
      <button mat-raised-button color="primary" type="submit"
              [disabled]="registerForm.invalid">
        Daftarkan
      </button>
    </div>
  </form>

  <div *ngIf="successMessage" class="mt-3 text-success">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="mt-3 text-danger">{{ errorMessage }}</div>
</mat-card>
